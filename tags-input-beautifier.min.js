!function(e,t){function g(e){return"undefined"!=typeof e}function v(e){return Object.keys(e).length}var n="__instance__",r=setTimeout,a="parentNode",i="setAttribute",s="getAttribute",o="appendChild",f="removeChild",c="innerHTML",l="textContent",p="className",d="toLowerCase";!function(e){e.version="2.0.2",e[n]={},e.each=function(t,a){return r(function(){var a,r=e[n];for(a in r)t(r[a],a,r)},0===a?0:a||1),e}}(e.TIB=function(e,r){function j(){var t=h("span"),n=r.classes;y=h("span"),y[p]=e[p],y[i]("contenteditable","true"),y[i]("spellcheck","false"),e.type="hidden",e[p]+=" "+n[1],t[p]=n[0],t[c]='<span class="'+n[2]+'"></span>',t.onclick=function(){y.focus()},e[a].insertBefore(t,e),t[o](e),t[o](y),r.values===!0&&(r.values=e.value.split(r.join));for(b in r.values){var s=u.filter(r.values[b]);s&&u.set(s)}}function k(e){var t=u.filter(e);return u.reset(),t&&v(u.tags)!==r.max?t in u.tags?(alert(r.text[1].replace(/%s/g,t)),u.reset(),!1):(u.set(t).update(),!1):!1}r=r||{};var b,y,u=this,h=function(e){return t.createElement(e)},m={join:", ",max:9999,values:!0,classes:["tags","tags-input","tags-output"],text:["Remove “%s” Tag","Duplicate “%s” Tag"],update:function(){}};TIB[n][e.id||e.name||v(TIB[n])]=u,u.tags={},"string"==typeof r&&(r={join:r});for(b in m)g(r[b])||(r[b]=m[b]);return u.input=e,u.config=r,u.filter=function(e){return e.replace(new RegExp("["+r.join.replace(/\s/g,"")+"]|^\\s+|\\s+$|\\s{2,}","g"),"")[d]()},u.reset=function(){return y[l]="",u},u.set=function(t){var n=e.previousSibling,l=h("span"),p=h("a");return l[c]=t,p.title=r.text[0].replace(/%s/g,t),p[i]("data-tag",t),p.href="javascript:;",p.onclick=function(){return delete u.tags[this[s]("data-tag")],this[a][a][f](this[a]),u.update(),y.focus(),!1},l[o](p),n[o](l),u.tags[t]=1,u},u.update=function(){var e=Object.keys(u.tags).join(r.join);return y&&(y.value=e),r.update(u.tags),u},u.create=function(){return j(),u.reset(),y.onkeydown=function(t){var r,n=e.previousSibling,r=n.lastChild,a=t.keyCode,i=(t.key||"")[d](),o=this[l],c=t.shiftKey;if(!(o||"backspace"!==i&&8!==a)){if(r){var p=r.children[0][s]("data-tag");n[f](r),delete u.tags[p]}return u.update(),!1}return","===i||!c&&188===a?k(o):"enter"===i||13===a?(k(o),!0):u},y.onblur=function(){return k(this[l])},u.update()},u.output=y,u})}(window,document);