!function(e,t){function p(e){return"undefined"!=typeof e}function d(e){return Object.keys(e).length}var n="__instance__",i=setTimeout,a="parentNode",r="setAttribute",s="getAttribute",u="removeAttribute",o="appendChild",f="removeChild",l="className",c="toLowerCase";!function(e){e.version="2.0.1",e[n]={},e.each=function(t,a){return i(function(){var a,i=e[n];for(a in i)t(i[a],a,i)},0===a?0:a||1),e}}(e.TIB=function(e,i){function b(){var t=e,n=t.name,r=g("span"),s=i.classes;y=g("input"),y.name=n,y.type="hidden",t[u]("name"),t[l]+=" "+s[1],r[l]=s[0],r.innerHTML='<span class="'+s[2]+'"></span>',r.onclick=function(){e.focus()},t[a].insertBefore(r,t),r[o](t),r[o](y),i.values===!0&&(i.values=t.value.split(i.join));for(m in i.values){var f=v.filter(i.values[m]);f&&v.set(f)}}function k(e){var t=v.filter(e);return v.reset(),t&&d(v.tags)!==i.max?t in v.tags?(alert(i.text[1].replace(/%s/g,t)),v.reset(),!1):(v.set(t).update(),!1):!1}i=i||{};var m,y,v=this,g=function(e){return t.createElement(e)},h={join:", ",max:9999,values:!0,classes:["tags","tags-input","tags-output"],text:["Remove “%s” Tag","Duplicate “%s” Tag"],update:function(){}};TIB[n][e.id||e.name||d(TIB[n])]=v,v.tags={},"string"==typeof i&&(i={join:i});for(m in h)p(i[m])||(i[m]=h[m]);return v.input=e,v.config=i,v.filter=function(e){return e.replace(new RegExp("["+i.join.replace(/\s/g,"")+"]|^\\s+|\\s+$|\\s{2,}","g"),"")[c]()},v.reset=function(){return e.value="",v},v.set=function(t){var n=e.previousSibling,u=g("span"),l=g("a");return u.innerHTML=t,l.title=i.text[0].replace(/%s/g,t),l[r]("data-tag",t),l.href="javascript:;",l.onclick=function(){return delete v.tags[this[s]("data-tag")],this[a][a][f](this[a]),v.update(),e.focus(),!1},u[o](l),n[o](u),v.tags[t]=1,v},v.update=function(){var e=Object.keys(v.tags).join(i.join);return y&&(y.value=e),i.update(v.tags),v},v.create=function(){b(),v.reset();var t=g("div");return t.style.cssText="font:inherit;white-space:pre;width:auto;position:absolute;top:0;left:0;visibility:hidden;",e[a][o](t),t[l]=e[l],e.onkeydown=function(n){var r,i=this,a=e.previousSibling,r=a.lastChild,u=n.keyCode,o=(n.key||"")[c](),l=i.value,p=n.shiftKey;if(t.textContent=l,i.style.width=t.offsetWidth+"px",!(l||"backspace"!==o&&8!==u)){if(r){var d=r.children[0][s]("data-tag");a[f](r),delete v.tags[d]}return v.update(),!1}return","===o||!p&&188===u?k(l):"enter"===o||13===u?(k(l),!0):v},e.onblur=function(){return k(this.value)},v.update()},v.output=y,v})}(window,document);