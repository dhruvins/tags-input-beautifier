!function(e,t){function f(e){return"undefined"!=typeof e}function c(e){return Object.keys(e).length}var n="__instance__",a=setTimeout,i="parentNode",r="setAttribute",s="getAttribute",u="removeAttribute",o="appendChild",l="removeChild";!function(e){e.version="2.0.0",e[n]={},e.each=function(t,i){return a(function(){var i,a=e[n];for(i in a)t(a[i],i,a)},0===i?0:i||1),e}}(e.TIB=function(e,a){function m(){var t=e,n=t.name,r=d("label"),s=a.classes;h=d("input"),h.name=n,h.type="hidden",t[u]("name"),t.className+=" "+s[1],r.className=s[0],r.innerHTML='<span class="'+s[2]+'"></span>',t[i].insertBefore(r,t),r[o](t),r[o](h),a.values===!0&&(a.values=e.value.split(a.join));for(v in a.values){var l=p.filter(a.values[v]);l&&p.set(l)}}function b(e){var t=p.filter(e);return p.reset(),t&&c(p.tags)!==a.max?t in p.tags?(alert(a.text[1].replace(/%s/g,t)),p.reset(),!1):(p.set(t).update(),!1):!1}a=a||{};var v,h,p=this,d=function(e){return t.createElement(e)},g={join:", ",max:9999,values:!0,classes:["tags","tags-input","tags-output"],text:["Remove “%s” Tag","Duplicate “%s” Tag"],update:function(){}};TIB[n][e.id||e.name||c(TIB[n])]=p,p.tags={},"string"==typeof a&&(a={join:a});for(v in g)f(a[v])||(a[v]=g[v]);return p.input=e,p.config=a,p.filter=function(e){return e.replace(new RegExp("["+a.join.replace(/\s/g,"")+"]|^\\s+|\\s+$|\\s{2,}","g"),"").toLowerCase()},p.reset=function(){return e.value="",p},p.set=function(t){var n=e.previousSibling,u=d("span"),f=d("a");return u.innerHTML=t,f.title=a.text[0].replace(/%s/g,t),f[r]("data-tag",t),f.href="javascript:;",f.onclick=function(){return delete p.tags[this[s]("data-tag")],this[i][i][l](this[i]),p.update(),e.focus(),!1},u[o](f),n[o](u),p.tags[t]=1,p},p.update=function(){var e=Object.keys(p.tags).join(a.join);return h&&(h.value=e),a.update(p.tags),p},p.create=function(){return m(),p.reset(),e.onkeydown=function(t){var a,n=e.previousSibling,a=n.lastChild,i=t.keyCode,r=t.key||"",u=this.value,o=t.shiftKey;if(!(p.filter(u)||"Backspace"!==r&&8!==i)){if(a){var f=a.children[0][s]("data-tag");n[l](a),delete p.tags[f]}return p.update(),!1}return","===r||!o&&188===i?b(u):"Enter"===r||13===t.keyCode?(b(u),!0):p},e.onblur=function(){return b(this.value)},p.update()},p.output=h,p})}(window,document);