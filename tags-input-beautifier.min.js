!function(e,t){function l(e){return"undefined"!=typeof e}function c(e){return Object.keys(e).length}var n="__instance__",a=setTimeout,r="parentNode",i="setAttribute",s="getAttribute",u="removeAttribute",o="appendChild",f="removeChild";!function(e){e.version="2.0.0",e[n]={},e.each=function(t,r){return a(function(){var r,a=e[n];for(r in a)t(a[r],r,a)},0===r?0:r||1),e}}(e.TIB=function(e,a){function m(){var t=e,n=t.name,i=d("span"),s=a.classes;h=d("input"),h.name=n,h.type="hidden",t[u]("name"),t.className+=" "+s[1],i.className=s[0],i.innerHTML='<span class="'+s[2]+'"></span>',i.onclick=function(){e.focus()},t[r].insertBefore(i,t),i[o](t),i[o](h),a.values===!0&&(a.values=e.value.split(a.join));for(v in a.values){var f=p.filter(a.values[v]);f&&p.set(f)}}function y(e){var t=p.filter(e);return p.reset(),t&&c(p.tags)!==a.max?t in p.tags?(alert(a.text[1].replace(/%s/g,t)),p.reset(),!1):(p.set(t).update(),!1):!1}a=a||{};var v,h,p=this,d=function(e){return t.createElement(e)},g={join:", ",max:9999,values:!0,classes:["tags","tags-input","tags-output"],text:["Remove “%s” Tag","Duplicate “%s” Tag"],update:function(){}};TIB[n][e.id||e.name||c(TIB[n])]=p,p.tags={},"string"==typeof a&&(a={join:a});for(v in g)l(a[v])||(a[v]=g[v]);return p.input=e,p.config=a,p.filter=function(e){return e.replace(new RegExp("["+a.join.replace(/\s/g,"")+"]|^\\s+|\\s+$|\\s{2,}","g"),"").toLowerCase()},p.reset=function(){return e.value="",p},p.set=function(t){var n=e.previousSibling,u=d("span"),l=d("a");return u.innerHTML=t,l.title=a.text[0].replace(/%s/g,t),l[i]("data-tag",t),l.href="javascript:;",l.onclick=function(){return delete p.tags[this[s]("data-tag")],this[r][r][f](this[r]),p.update(),e.focus(),!1},u[o](l),n[o](u),p.tags[t]=1,p},p.update=function(){var e=Object.keys(p.tags).join(a.join);return h&&(h.value=e),a.update(p.tags),p},p.create=function(){return m(),p.reset(),e.onkeydown=function(t){var a,n=e.previousSibling,a=n.lastChild,r=t.keyCode,i=t.key||"",u=this.value,o=t.shiftKey;if(!(p.filter(u)||"Backspace"!==i&&8!==r)){if(a){var l=a.children[0][s]("data-tag");n[f](a),delete p.tags[l]}return p.update(),!1}return","===i||!o&&188===r?y(u):"Enter"===i||13===t.keyCode?(y(u),!0):p},e.onblur=function(){return y(this.value)},p.update()},p.output=h,p})}(window,document);